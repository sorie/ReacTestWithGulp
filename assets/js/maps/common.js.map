{"version":3,"sources":["common.js"],"names":["console","clear","React","PureComponent","ReactMotion","Motion","spring","update","addons","springConfig","stiffness","damping","Item","props","state","height","setState","refs","item","offsetHeight","data","style","id","name","transform","y","animation","zIndex","WebkitTransform","List","items","play","setInterval","rule","_","shuffle","range","size","context","each","i","key","$set","clearInterval","Items","map","ReactDOM","render","document","getElementById"],"mappings":"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","file":"../common.js","sourcesContent":["console.clear();\n\nconst { PureComponent } = React;\nconst { Motion, spring } = ReactMotion;\nconst { update } = React.addons;\n\nconst springConfig = { stiffness: 100, damping: 10 };\n\nclass Item extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            height: 0\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            height: this.refs.item.offsetHeight + 10,\n        });\n    }\n\n    render() {\n        const { height } = this.state;\n        const { data, style } = this.props;\n        const {\n            id,\n            name\n        } = data;\n\n        const transform = `translateY(${style.y * height}px)`;\n        const animation = {\n            zIndex: id,\n            transform,\n            WebkitTransform: transform\n        };\n\n        return (\n            <div ref=\"item\" className=\"Item\" style={animation}>\n                {name}\n            </div>\n        );\n    }\n}\n\nclass List extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: [\n                { id: 0, name: \"A\" },\n                { id: 1, name: \"B\" },\n                { id: 2, name: \"C\" },\n                { id: 3, name: \"D\" },\n                { id: 4, name: \"E\" },\n                { id: 5, name: \"F\" },\n            ]\n        }\n    }\n\n    componentWillMount() {\n        this.play = setInterval(() => {\n            const { items } = this.state;\n            const rule = _.shuffle(_.range(_.size(items)));\n            const context = {  };\n\n            _.each(rule, (i, key) => {\n                context[key] = {\n                    id: { $set: i }\n                }\n            });\n\n            this.setState({\n                items: update(this.state.items, context)\n            })\n        }, 1000);\n    }\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.play);\n\t}\n\n    render() {\n        const { items } = this.state;\n\n        const Items = _.map(items, (i, key) => {\n            const style = {\n                y: spring(i.id, springConfig)\n            };\n\n            return (\n                <Motion key={key} style={style}>\n                    {(style) => {\n                        return (\n                            <Item data={i} style={style} />\n                        )\n                    }}\n                </Motion>\n            )\n        });\n\n        return (\n            <div className=\"List\">\n                {Items}\n            </div>\n        );\n    }\n}\n\nReactDOM.render(<List />, document.getElementById(\"app\"));\n"]}